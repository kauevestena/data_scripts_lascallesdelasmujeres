
***Outdated: check spanish version***

# SCRIPTS to generate data for the project #LasCallesDeLasMujeres

Visit the web project: [#LasCallesDeLasMujeres](https://geochicasosm.github.io/lascallesdelasmujeres/) (in beta)


## Getting Started

The data displayed in the project [#LasCallesDeLasMujeres] (https://geochicasosm.github.io/lascallesdelasmujeres/) is generated by executing the scripts contained in this project. Below are the instructions to reproduce the process and be able to generate data for any city.


### Installation

To be able to download the project and execute the scripts, it is necessary to have installed:

* GIT (Download [HERE](https://git-scm.com/downloads))
* Node.js version <10 (Download [HERE](https://nodejs.org/download/release/v9.5.0/))


Download the project:

```
git clone https://github.com/geochicasosm/data_scripts_lascallesdelasmujeres.git
```

Installing the packages:

```
npm install
```

Download [HERE](http://osmlab.github.io/osm-qa-tiles/) the complete OSM planet (or the area of interest) and save it in a folder called "data", inside the project folder.  
(Keep in mind that if you just want to download a specific area of interest, you must rename the unzipped file to "latest.planet.mbtiles")

```
./data/latest.planet.mbtiles
```


Instructions
======

### _Step 1_

Define [HERE](http://tools.geofabrik.de/calc/) the BBOX of the city to be treated.

Create a folder inside the folder called "data", with the name of the city to be treated (lowercase, no spaces). Examples:

 **barcelona**

 **sanjose**

 **buenosaires**




### _Step 2_

Execute:

```
npm run step1 -- --area=[bbox] --ciudad=cityname
```

* Example: **npm run step1 -- --area=[2.0875,41.2944,2.2582,41.4574] --ciudad=barcelona**


The following two files are generated:
* cityname_streets.geojson
* list.csv


### _Step 3_

Apply the classification of the previous listing in masculine or feminine names:


```
npm run step2 -- --ciudad=cityname
```

The file 'list_genderize.csv' is generated.


### _Step 4_

Apply the script that eliminates streets classified as "unknown" and search of the Wikipedia articles related to streets named after women:

```
npm run step3 -- --ciudad=cityname
```

The file  'list_genderize_wikipedia.csv' is generated.


### _Step 5_

Manually review the previous file:
- Remove streets that don't have human names
- Correct errors in the male / female classification. The reliability factor is 2,-2 / Female,Male.
- Correct and add Wikipedia links (streets with masculine names do not need a link)

----
#### Guidelines to remove or maintain streets:

 To *REMOVE* if:
- Makes an allusion to flora or fauna
- Makes allusions to historical moments (La Batalla de PavÃ³n)
- Makes allusion to inanimate objects (Esmeralda = Argentine ship)

To *MANTAIN* if:
- It's named after a saint
- It is named after a female deity with representation of a woman (Venus)
----

Save the corrected file in the same project folder, with the name:

**cityname_finalCSV.csv**

*ATTENTION*: It is very important that the field separator used in the CSV is ";", otherwise it will not work.

### _Step 6_

Execute:

```
npm run step4 -- --ciudad=cityname
```

Three files are generated:
- **final_tile.geojson** Final file that will be loaded on the map
- **stats.txt** file with data statistics
- **noLinkList.txt** File with the list of streets without article in wikipedia


## Finally

Send us the three generated files and we will add your city to the map!

---

## Contribute to the project

Join our slack channel [#lascallesdelasmujeres](https://join.slack.com/t/geochicas-osm/shared_invite/enQtMzIzMzUyMDQyNjczLTU0YjYzNTQ2ZWRkOWQwZGJlNGY4NjhmODY4Y2M2M2Y2MDM3M2EyZTg4NWI0ODY2ZWRhZGIyN2JjMDc0ZDdlODE).


## Technical Coordinator

* **Jessica Sena** (*Spain*) - [@jsenag](https://jessisena.github.io/myprofile/)

    Computer engineer, web/mobile geo-developer.



## License

This project is licensed under *CC BY-SA* License - see the [CC BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) file for details


## Knowledgement


* [Project](https://blog.mapbox.com/mapping-female-versus-male-street-names-b4654c1e00d5) _Mapping female versus male street names_ of Mapbox by [Aruna Sankaranarayanan](https://www.mapbox.com/about/team/aruna-sankaranarayanan/)

* [Open Street Map](https://www.openstreetmap.org/)

* [NameSor](http://api.namsor.com/onomastics/api/)

* [Wikipedia API](https://www.mediawiki.org/wiki/API:Main_page/es)

* [Geofabrik](http://tools.geofabrik.de/calc/)
